name: Discord Bot 
on:
    push:
      branches:
        - main
    workflow_run:
        workflows: [Rerun Bot]
        types: [completed]
env:
 TOKEN: ${{ secrets.TOKEN }}
 OWNERID: ${{ secrets.OWNERID }}
jobs:
  run-bot:
    runs-on: windows-latest
    steps:
        - name: Checkout repository
          uses: actions/checkout@v4
        - name: Cache Stuff
          uses: actions/setup-python@v5
          with:
                python-version: '3.13'
                cache: 'pip'
                cache-dependency-path: |
                    **/requirements*.txt
        - name: Install Dependencies
          run: |
            pip install -r requirements.txt
        - name: Start Bot
          run: |
            python bot.py
          
